{"ast":null,"code":"// import axios from 'axios';\n// import { message } from 'antd';\nimport * as actionTypes from './actionTypes'; //更改歌曲\n\nexport var changeSong = function changeSong(_ref) {\n  var song = _ref.song,\n      index = _ref.index,\n      _ref$flag = _ref.flag,\n      flag = _ref$flag === void 0 ? '' : _ref$flag;\n  return {\n    type: actionTypes.PLAYER_CHANGE_SONG,\n    payload: {\n      song: song,\n      index: index,\n      flag: flag\n    }\n  };\n};\n\nvar deleteSongType = function deleteSongType(id) {\n  return {\n    type: actionTypes.PLAYER_DELETE_SONG,\n    payload: id\n  };\n};\n\nexport var deleteSong = function deleteSong(id) {\n  return function (dispatch) {\n    console.log(id);\n    dispatch(deleteSongType(id));\n  };\n};\nexport var clearQueue = function clearQueue() {\n  return {\n    type: actionTypes.PLAYER_CLEAR_QUEUE\n  };\n};\n\nvar initStarredListAct = function initStarredListAct(allList) {\n  return {\n    type: actionTypes.INIT_STARRED_LIST,\n    payload: allList\n  };\n}; // 初始化本地数据操作\n\n\nexport var initStarredList = function initStarredList() {\n  return function (dispatch) {\n    var allStarredList = JSON.parse(localStorage.getItem('allStarredList')) || [];\n    dispatch(initStarredListAct(allStarredList));\n  };\n}; //收藏歌单操作\n\nexport var star = function star(item) {\n  return function (dispatch) {\n    //先处理本地储存\n    var allStarredList = JSON.parse(localStorage.getItem('allStarredList')) || [];\n    allStarredList.push(item); // 重新初始化本地储存（把push进去的值，重新添加到本地储存中）\n\n    localStorage.setItem('allStarredList', JSON.stringify(allStarredList));\n    dispatch(initStarredListAct(allStarredList));\n  };\n};\nexport var cancelStar = function cancelStar(id) {\n  return function (dispatch) {\n    var index;\n    var allStarredList = JSON.parse(localStorage.getItem('allStarredList')) || []; //使用循环查找出需要取消收藏的歌单，然后把id（allStarredList中的id）传出来\n\n    for (var i = 0; i < allStarredList.length; i++) {\n      var list = allStarredList[i];\n\n      if (list.id === id) {\n        index = i;\n      }\n    } // 使用字符串切割的方法，把 allStarredList 中符合条件的元素从收藏列表中删除\n\n\n    allStarredList.splice(index, 1);\n    localStorage.setItem('allStarredList', JSON.stringify(allStarredList));\n    dispatch(initStarredListAct(allStarredList));\n  };\n}; // 更新播放器的列表\n\nvar playerStatus = function playerStatus(status) {\n  return {\n    type: actionTypes.PLAYER_UPDATE_STATUS,\n    payload: status\n  };\n};\n\nvar isContain = function isContain(id, playlist) {\n  var len = playlist.length;\n\n  for (var i = 0; i < len; i++) {\n    var song = playlist[i];\n\n    if (song.id === id) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nexport var addSong2Que = function addSong2Que(s) {\n  return function (dispatch, getState) {\n    var _getState = getState('playQueue'),\n        playlist = _getState.playlist; // isContain(s.id, playlist)\n\n\n    console.log(playlist.playQueue);\n  };\n};\nexport var playSong2Que = function playSong2Que(s) {\n  return function (dispatch, getState) {};\n};\nexport var updatePlayerStatus = function updatePlayerStatus(status) {\n  return function (dispatch) {\n    dispatch(playerStatus(status));\n  };\n};","map":{"version":3,"sources":["H:\\music\\react-music-player\\src\\common\\store\\actionCreators.js"],"names":["actionTypes","changeSong","song","index","flag","type","PLAYER_CHANGE_SONG","payload","deleteSongType","id","PLAYER_DELETE_SONG","deleteSong","dispatch","console","log","clearQueue","PLAYER_CLEAR_QUEUE","initStarredListAct","allList","INIT_STARRED_LIST","initStarredList","allStarredList","JSON","parse","localStorage","getItem","star","item","push","setItem","stringify","cancelStar","i","length","list","splice","playerStatus","status","PLAYER_UPDATE_STATUS","isContain","playlist","len","addSong2Que","s","getState","playQueue","playSong2Que","updatePlayerStatus"],"mappings":"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","sourcesContent":["// import axios from 'axios';\r\n// import { message } from 'antd';\r\nimport * as actionTypes from './actionTypes';\r\n\r\n//更改歌曲\r\nexport const changeSong = ({ song, index, flag = '' }) => ({\r\n    type: actionTypes.PLAYER_CHANGE_SONG,\r\n    payload: {\r\n        song,\r\n        index,\r\n        flag,\r\n    },\r\n})\r\nconst deleteSongType = (id) =>({\r\n    type: actionTypes.PLAYER_DELETE_SONG,\r\n     payload: id\r\n})\r\nexport const deleteSong = (id) => (dispatch) =>{\r\n    console.log(id);\r\n    dispatch(deleteSongType(id));\r\n}\r\nexport const clearQueue = () => ({\r\n    type: actionTypes.PLAYER_CLEAR_QUEUE,\r\n})\r\n\r\nconst initStarredListAct = (allList) => ({\r\n    type: actionTypes.INIT_STARRED_LIST,\r\n    payload: allList\r\n});\r\n// 初始化本地数据操作\r\nexport const initStarredList = () => (dispatch) => {\r\n    const allStarredList = JSON.parse(localStorage.getItem('allStarredList')) || [];\r\n    dispatch(initStarredListAct(allStarredList));\r\n}\r\n//收藏歌单操作\r\nexport const star = item => (dispatch) => {\r\n    //先处理本地储存\r\n    const allStarredList = JSON.parse(localStorage.getItem('allStarredList')) || [];\r\n    allStarredList.push(item);\r\n    // 重新初始化本地储存（把push进去的值，重新添加到本地储存中）\r\n    localStorage.setItem('allStarredList',JSON.stringify(allStarredList));\r\n    dispatch(initStarredListAct(allStarredList));\r\n}\r\nexport const cancelStar = id => (dispatch) => {\r\n    let index;\r\n    const allStarredList = JSON.parse(localStorage.getItem('allStarredList')) || [];\r\n    //使用循环查找出需要取消收藏的歌单，然后把id（allStarredList中的id）传出来\r\n    for (let i = 0; i < allStarredList.length; i++) {\r\n        const list = allStarredList[i];\r\n        if(list.id === id) {\r\n            index = i;\r\n        }\r\n    }\r\n    // 使用字符串切割的方法，把 allStarredList 中符合条件的元素从收藏列表中删除\r\n    allStarredList.splice(index,1);\r\n    localStorage.setItem('allStarredList',JSON.stringify(allStarredList));\r\n    dispatch(initStarredListAct(allStarredList));\r\n}\r\n// 更新播放器的列表\r\nconst playerStatus = status =>({\r\n    type:actionTypes.PLAYER_UPDATE_STATUS,\r\n    payload: status\r\n})\r\nconst isContain = (id, playlist) =>{\r\n    const len = playlist.length;\r\n    for (var i = 0; i < len; i++) {\r\n        const song = playlist[i]\r\n        if(song.id === id){\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}\r\nexport const addSong2Que = s => (dispatch, getState) => {\r\n    const {playlist}= getState('playQueue');\r\n    // isContain(s.id, playlist)\r\n    console.log(playlist.playQueue);\r\n}\r\nexport const playSong2Que = s => (dispatch, getState) => {\r\n}\r\nexport const updatePlayerStatus = status => (dispatch) =>{\r\n    dispatch(playerStatus(status))\r\n}\r\n"]},"metadata":{},"sourceType":"module"}